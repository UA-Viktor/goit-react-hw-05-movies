{"version":3,"file":"static/js/165.f87e7fdf.chunk.js","mappings":"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","sources":["pages/MovieDetails.styled.jsx","pages/MovieDetails.js","services/movies-api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const ButtonBackLink = styled(Link)`\n  text-decoration: none;\n  color: #161900;\n`;\n\nexport const MovieDetailsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 20px;\n`;\n\nexport const ButtonBack = styled.button`\n  color: #090909;\n  padding: 0.7em 1.7em;\n  font-size: 18px;\n  border-radius: 0.5em;\n  background: #e8e8e8;\n  border: 1px solid #e8e8e8;\n  transition: all 0.3s;\n  box-shadow: 6px 6px 12px #c5c5c5, -6px -6px 12px #ffffff;\n\n  font-size: 16px;\n  font-weight: 500;\n\n  color: #161900;\n\n  &active {\n    color: #666;\n    box-shadow: 0px 0px 30px -7px rgba(0, 0, 0, 0.45);\n  }\n`;\n\nexport const LinkUl = styled.ul`\n  display: flex;\n  flex-direction: row;\n  gap: 30px;\n`;\n\nexport const MovieInformationIMG = styled.div`\n  overflow: hidden;\n  margin-right: 40px;\n  box-shadow: 0px 0px 30px -7px rgba(0, 0, 0, 0.75);\n  border-radius: 10px 10px 10px 10px;\n`;\n\nexport const MovieInformation = styled.div``;\n","import { Suspense, useRef, useState, useEffect, memo } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport moviesAPI from '../services/movies-api';\nimport {\n  MovieDetailsContainer,\n  LinkUl,\n  MovieInformation,\n  MovieInformationIMG,\n  ButtonBack,\n  ButtonBackLink,\n} from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const [genres, setGenres] = useState([]);\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        const response = await moviesAPI.searchMoviesID(movieId);\n        setMovie(response);\n        setGenres(response.genres.map(genre => genre.name));\n      } catch (error) {\n        setError('Ошибка при получении информации о фильме');\n      }\n    };\n    fetchMovie();\n  }, [movieId]);\n\n  if (error) {\n    return <div>{error}</div>;\n  }\n\n  const formatRuntime = runtime => {\n    const hours = Math.floor(runtime / 60);\n    const minutes = runtime % 60;\n    return `${hours}h ${minutes}m`;\n  };\n\n  console.log(movie);\n\n  return (\n    <>\n      <MovieDetailsContainer>\n        <ButtonBack>\n          <ButtonBackLink to={backLinkLocationRef.current}>\n            Назад к странице коллекции\n          </ButtonBackLink>\n        </ButtonBack>{' '}\n      </MovieDetailsContainer>\n\n      <MovieDetailsContainer>\n        {movie && (\n          <>\n            <MovieInformationIMG>\n              <img\n                src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n                alt={movie.title}\n              />\n            </MovieInformationIMG>\n            <MovieInformation>\n              <h2> {movie.title}</h2>\n              <h4> Слоган фильма: {movie.tagline}</h4>\n              <p>Год: {movie?.release_date?.slice(0, 4)}</p>\n              <p>Жанры: {genres?.join(', ')}</p>\n              <p>\n                Бюджет: $ {parseFloat(movie?.budget).toLocaleString('en-US')}\n              </p>\n              <p>\n                Кассовые сборы: ${' '}\n                {parseFloat(movie?.revenue).toLocaleString('en-US')}\n              </p>\n              <p>Рейтинг фильма: {movie.vote_average}</p>\n              <p>Количество головов: {movie.vote_count} </p>\n              <p>Продолжительность: {formatRuntime(movie.runtime)}</p>\n            </MovieInformation>\n          </>\n        )}\n      </MovieDetailsContainer>\n\n      <MovieDetailsContainer>\n        <LinkUl>\n          <li>\n            <ButtonBack>\n              <ButtonBackLink to=\"cast\" state={{ from: location }}>\n                Cast\n              </ButtonBackLink>\n            </ButtonBack>\n          </li>\n          <li>\n            <ButtonBackLink to=\"reviews\" state={{ from: location }}>\n              <ButtonBack>Reviews</ButtonBack>\n            </ButtonBackLink>\n          </li>\n        </LinkUl>\n      </MovieDetailsContainer>\n\n      <MovieDetailsContainer>\n        <Suspense fallback={<div>LOADING SUBPAGE...</div>}>\n          <Outlet />\n        </Suspense>\n      </MovieDetailsContainer>\n    </>\n  );\n};\n\nexport default memo(MovieDetails);\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '09e88d7dd6157842e835fc31a8c547c7';\n\nconst searchMoviesTrending = () => {\n  return axios\n    .get('/trending/movie/week', {\n      params: {\n        api_key: API_KEY,\n        language: 'uk',\n      },\n    })\n    .then(response => response.data.results);\n};\n\nconst searchMovies = query => {\n  return axios\n    .get('/search/movie', {\n      params: {\n        api_key: API_KEY,\n        query: query,\n      },\n    })\n    .then(response => response.data.results);\n};\n\nconst searchMoviesID = id => {\n  return axios\n    .get('/movie/' + id, {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(response => response.data);\n};\n\nconst searchMoviesIDcredits = id => {\n  return axios\n    .get('/movie/' + id + '/credits', {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(response => response.data.cast);\n};\n\nconst searchMoviesIDreviews = id => {\n  return axios\n    .get('/movie/' + id + '/reviews', {\n      params: {\n        api_key: API_KEY,\n      },\n    })\n    .then(response => response.data.results);\n};\n\nconst searchMovieTrailer = movieId => {\n  return axios\n    .get(`/movie/${movieId}/videos`, {\n      params: {\n        api_key: API_KEY,\n        language: 'en-US',\n      },\n    })\n    .then(response => {\n      const videoResults = response.data.results;\n      const trailer = videoResults.find(video => video.type === 'Trailer');\n      if (trailer) {\n        return `https://www.youtube.com/watch?v=${trailer.key}`;\n      }\n      return null;\n    });\n};\n\nconst moviesAPI = {\n  searchMoviesTrending,\n  searchMovies,\n  searchMoviesID,\n  searchMoviesIDcredits,\n  searchMoviesIDreviews,\n  searchMovieTrailer,\n};\n\nexport default moviesAPI;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["ButtonBackLink","styled","Link","MovieDetailsContainer","ButtonBack","LinkUl","MovieInformationIMG","MovieInformation","MovieDetails","movieId","useParams","useState","movie","setMovie","error","setError","genres","setGenres","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fetchMovie","moviesAPI","response","map","genre","name","console","log","to","current","src","poster_path","alt","title","tagline","release_date","slice","join","parseFloat","budget","toLocaleString","revenue","vote_average","vote_count","runtime","hours","Math","floor","minutes","formatRuntime","Suspense","fallback","memo","axios","API_KEY","searchMoviesTrending","params","api_key","language","then","data","results","searchMovies","query","searchMoviesID","id","searchMoviesIDcredits","cast","searchMoviesIDreviews","searchMovieTrailer","trailer","find","video","type","key","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}